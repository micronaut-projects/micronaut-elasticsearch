plugins {
    id 'groovy'
}

repositories {
    mavenCentral()
}

dependencies {
    testImplementation(platform(libs.boms.micronaut))
    testCompileOnly mn.micronaut.inject.groovy
    testImplementation mn.micronaut.validation
    testImplementation mn.spock
    testImplementation mn.micronaut.test.spock

    // tag::testcontainers-dependencies[]
    testImplementation(libs.testcontainers.spock)
    testImplementation(libs.testcontainers.elasticsearch)
    // end::testcontainers-dependencies[]

    testImplementation projects.elasticsearch
}

tasks.named('test') {
    useJUnitPlatform()
    systemProperty 'elasticsearch.version', elasticsearchVersion
}

java {
    sourceCompatibility = JavaVersion.toVersion('1.8')
    targetCompatibility = JavaVersion.toVersion('1.8')
}
